tc = create_tcorpus(d)
g = tc$compare_documents()
library(tcorpus)
d = data.frame(text = c('Renewable fuel is better than fossil fuels!',
'A fueled debate about fuel',
'Mark Rutte is simply Rutte'),
date = c('2010-01-01','2010-01-01','2012-01-01'))
tc = create_tcorpus(d)
g = tc$compare_documents()
d = data.frame(text = c('Renewable fuel is better than fossil fuels!',
'A fueled debate about fuel',
'Mark Rutte is simply Rutte'),
date = c('2010-01-01','2010-01-01','2012-01-01'))
tc = create_tcorpus(d)
g = tc$compare_documents()
library(tcorpus)
library(tcorpus)
d = data.frame(text = c('Renewable fuel is better than fossil fuels!',
'A fueled debate about fuel',
'Mark Rutte is simply Rutte'),
date = c('2010-01-01','2010-01-01','2012-01-01'))
tc = create_tcorpus(d)
g = tc$compare_documents()
compare_documents
source('~/Dropbox/tcorpus/R/tcorpus.r')
source('~/Dropbox/tcorpus/R/tcorpus.r')
library(tcorpus)
d = data.frame(text = c('Renewable fuel is better than fossil fuels!',
'A fueled debate about fuel',
'Mark Rutte is simply Rutte'),
date = c('2010-01-01','2010-01-01','2012-01-01'))
tc = create_tcorpus(d)
library(tcorpus)
g = tc$compare_documents()
tc$compare_documents
tc$compare_documents
tc
library(tcorpus)
d = data.frame(text = c('Renewable fuel is better than fossil fuels!',
'A fueled debate about fuel',
'Mark Rutte is simply Rutte'),
date = c('2010-01-01','2010-01-01','2012-01-01'))
tc = create_tcorpus(d)
library(tcorpus)
d = data.frame(text = c('Renewable fuel is better than fossil fuels!',
'A fueled debate about fuel',
'Mark Rutte is simply Rutte'),
date = c('2010-01-01','2010-01-01','2012-01-01'))
tc = create_tcorpus(d)
sourceall()
tc = create_tcorpus(d)
g = tc$compare_documents()
tc$compare_corpus
tc$compare_documents()
tc$compare_documents
library(tcorpus)
library(tcorpus)
d = data.frame(text = c('Renewable fuel is better than fossil fuels!',
'A fueled debate about fuel',
'Mark Rutte is simply Rutte'),
date = c('2010-01-01','2010-01-01','2012-01-01'))
tc = create_tcorpus(d)
g = tc$compare_documents()
tc$compare_documents
source('~/Dropbox/tcorpus/R/tcorpus.r')
source('~/Dropbox/tcorpus/R/tcorpus.r')
library(corpustools)
source('~/Dropbox/corpustools/R/tcorpus.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
library(tcorpus)
library(testthat)
data(sotu_texts)
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc
source('~/Dropbox/corpustools/R/tcorpus.r')
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
library(corpustools)
library(tcorpus)
library(testthat)
data(sotu_texts)
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc
corpustools:::sourceall()
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
m = tc$lda_fit('word', create_feature = 'lda', K=5)
source('~/Dropbox/corpustools/R/tcorpus.r')
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
m = tc$lda_fit('word', create_feature = 'lda', K=5)
m = tc$lda_fit(feature = 'word', create_feature = 'lda', K=5)
source('~/Dropbox/corpustools/R/tcorpus.r')
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
m = tc$lda_fit(feature = 'word', create_feature = 'lda', K=5)
?rowSums
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
m = tc$lda_fit(feature = 'word', create_feature = 'lda', K=5)
m = tc$lda_fit(feature = 'word', create_feature = 'lda', K=5)
source('~/Dropbox/corpustools/R/lda.r')
m = tc$lda_fit(feature = 'word', create_feature = 'lda', K=5)
source('~/Dropbox/corpustools/R/lda.r')
m = tc$lda_fit(feature = 'word', create_feature = 'lda', K=5)
tc$data()
source('~/Dropbox/corpustools/R/tcorpus.r')
source('~/Dropbox/corpustools/R/lda.r')
source('~/Dropbox/corpustools/R/lda.r')
m = tc$lda_fit(feature = 'word', create_feature = 'lda', K=5)
m
tc$data()
tc$lda_topic_features(m, feature = 'word', clone=F)
tc$data()
tc$lda_topic_features(m, feature = 'word', clone=F)
tc$data()
source('~/Dropbox/corpustools/R/lda.r')
source('~/Dropbox/corpustools/R/lda.r')
source('~/Dropbox/corpustools/R/lda.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
source('~/Dropbox/corpustools/R/lda.r')
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
m = tc$lda_fit(feature = 'word', create_feature = 'lda', K=5)
tc$data()
?tCorpus
terms(m)
terms(m, 5)
tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'nl')
tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'dutch')
tc$data()
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'dutch')
tc$data()
m = tc$lda_fit(feature = 'feature', create_feature = 'lda', K=5)
tc$data()
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
m = tc$lda_fit(feature = 'feature', create_feature = 'lda', K=5)
tc$data()
terms(m, 5)
tc$filter('feature', filter = termfreq(feature > 10))
tc$filter('feature', filter = termfreq(feature > 0))
tc$filter('feature', filter = feature =='first')
tc$filter
source('~/Dropbox/corpustools/R/tcorpus.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc$filter('feature', filter = feature == 'first')
tc$filter
source('~/Dropbox/corpustools/R/preprocessing.r')
tc$filter('feature', filter = feature == 'first')
source('~/Dropbox/corpustools/R/preprocessing.r')
source('~/Dropbox/corpustools/R/preprocessing.r')
source('~/Dropbox/corpustools/R/preprocessing.r')
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc$filter('feature', filter = feature == 'first')
source('~/Dropbox/corpustools/R/preprocessing.r')
tc$filter('feature', filter = feature == 'first')
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc$filter('feature', filter = feature == 'first')
source('~/Dropbox/corpustools/R/preprocessing.r')
tc$filter('feature', filter = feature == 'first')
source('~/Dropbox/corpustools/R/preprocessing.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
tc$filter('feature', filter = feature == 'first')
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc$filter('feature', filter = feature == 'first')
source('~/Dropbox/corpustools/R/tcorpus.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
tc$filter('feature', filter = feature == 'first')
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc$filter('feature', filter = feature == 'first')
tc$filter('feature', filter = feature == 'first')$data()
tc$data()
tc$filter('feature', filter = feature == 'first')$data()
source('~/Dropbox/corpustools/R/preprocessing.r')
tc$filter('feature', filter = feature == 'first')$data()
source('~/Dropbox/corpustools/R/preprocessing.r')
tc$filter('feature', filter = feature == 'first')$data()
tc$filter('feature', filter = feature == 'first')$data()
tc$filter('feature', filter = feature == 'first')$data()
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
tc$filter('feature', filter = feature == 'first')$data()
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
tc$filter('feature', filter = feature == 'first')$data()
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc$filter('feature', filter = feature == 'first')$data()
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc$filter('feature', filter = feature == 'first')$data()
source('~/Dropbox/corpustools/R/tcorpus.r')
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
library(tcorpus)
data(sotu_texts)
library(corpustools)
library(tcorpus)
library(testthat)
data(sotu_texts)
corpustools:::sourceall()
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc$filter('feature', filter = feature == 'first')$data()
source('~/Dropbox/corpustools/R/tcorpus.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
source('~/Dropbox/corpustools/R/preprocessing.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc$filter('feature', filter = feature == 'first')$data()
tc$feature_subset('feature', filter = feature == 'first')$data()
tc$feature_subset('feature', subset = feature == 'first')$data()
source('~/Dropbox/corpustools/R/preprocessing.r')
source('~/Dropbox/corpustools/R/preprocessing.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
library(corpustools)
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc$feature_subset('feature', subset = feature == 'first')$data()
source('~/Dropbox/corpustools/R/preprocessing.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
library(corpustools)
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc$feature_subset('feature', subset = feature == 'first')$data()
freq(c('a','a','b','b','b'))
freq_top(c('a','a','a','b','b'))
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
source('~/Dropbox/corpustools/R/subset_tcorpus.r')
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc$feature_subset('feature', subset = feature == 'first')$data()
tc$feature_subset('feature', subset = freq(feature) > 10)$data()
tc$feature_subset('feature', subset = freq(feature) > 100)$data()
tc$feature_subset('feature', subset = freq(feature) > 10)$data()
tc$feature_subset('feature', subset = docfreq(feature) > 10)$data()
tc$feature_subset('feature', subset = docfreq(feature) > 100)$data()
tc$feature_subset('feature', subset = docfreq(feature) > 1000)$data()
tc$feature_subset('feature', subset = freq_top(feature, 10) > 10)$data()
tc$feature_subset('feature', subset = freq_top(feature, 100))$data()
tc$feature_subset('feature', subset = freq_top(feature, 10))$data()
tc$feature_subset('feature', subset = freq(feature) > 10)$data()
tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 90)$data()
tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)$data()
tc$data()
tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)$data()
tc = tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)$data()
source('~/Dropbox/corpustools/R/tcorpus.r')
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc = tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)$data()
tc$feature_stats
source('~/Dropbox/corpustools/R/tcorpus.r')
tc$feature_stats
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc$feature_stats
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc$feature_stats
tc = tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)$data()
tc$feature_stats
tc
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc = tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)
tc$feature_stats
tc$feature_stats('feature')
tc$feature_stats('feature')
dtm = tc$dtm('feature', form = 'tm_dtm')
dtm
dtm
Matrix::rowSums(dtm)
dtm = dtm[Matrix::rowSums(dtm) > 0, Matrix::colSums(dtm) > 0]    # get rid of empty rows/columns
dtm = tc$dtm('feature')
dtm = dtm[Matrix::rowSums(dtm) > 0, Matrix::colSums(dtm) > 0]    # get rid of empty rows/columns
dtm
vocabulary = colnames(dtm)
vocabulary
dtm
str(dtm)
Matrix::format(dtm)
tc$feature_stats('feature')
source('~/Dropbox/corpustools/R/tcorpus.r')
source('~/Dropbox/corpustools/R/tcorpus.r')
dtm
dtm@j
tc$feature_stats('feature')
source('~/Dropbox/corpustools/R/term_information.r')
tc$feature_stats('feature')
source('~/Dropbox/corpustools/R/term_information.r')
tc$feature_stats('feature')
tc$feature_stats('feature')
m = tc$lda_fit(feature = 'feature', create_feature = 'lda', K=5)
terms(m, 5)
terms(m, 5)
tc$data()
tc$feature_names
expect_true('lda' %in% tc$feature_names)
terms(m, 5)
terms(m, 5)
terms(m, 10)
expect_true('lda' %in% tc$feature_names)
m = tc$lda_fit(feature = 'feature', create_feature = 'lda', K=5)
terms(m, 10)
i = tc$data('feature')
i
i = data.frame(1:tc$n, tc$data('feature')
)
i
i = i[!is.na(i)]
i
i = data.frame(1:tc$n, tc$data('feature'))
i = i[!is.na(i),]
i
i = data.frame(i=1:tc$n, code=tc$data('feature'))
i = i[!is.na(i),]
tc$kwic(i=i$i, code=i$code)
i$i
i = data.frame(i=1:tc$n, code=tc$data('feature'))
i
i = i[!is.na(i),]
i
!is.na(i)
i = data.frame(i=1:tc$n, code=tc$data('feature'))
i = i[!is.na(i$code),]
tc$kwic(i=i$i, code=i$code)
i$code
i$i
tc$kwic(i=i$i, code=i$code)
tc$kwic(i=i$i)
x = tc$kwic(i=10)
x
x = tc$kwic(i=10:20)
x
nrow(i)
x = tc$kwic(i=1:100)
x
x = tc$kwic(i=1:1000)
x
x = tc$kwic(code = 'lda', nsample = 10)
x = tc$kwic(code = 'lda')
?kwic.tCorpus
library(corpustools)
library(tcorpus)
library(testthat)
data(sotu_texts)
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc = tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)
m = tc$lda_fit(feature = 'feature', create_feature = 'lda', K=5)
terms(m, 10)
expect_true('lda' %in% tc$feature_names)
library(tcorpus)
library(testthat)
data(sotu_texts)
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc = tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)
tc = tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)
tc
tc = tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)
freq
freq(feature)
tc = tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)
library(corpustools)
data(sotu_texts)
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc = tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)
library(corpustools)
data(sotu_texts)
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)$data()
tc$feature_subset('feature', subset = feature=='first')$data()
tc$feature_subset('feature', subset = feature=='first')$data()
library(corpustools)
data(sotu_texts)
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc
tc = tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)
tc
source('~/Dropbox/corpustools/R/tcorpus.r')
library(corpustools)
library(corpustools)
data(sotu_texts)
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc = tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)
source('~/Dropbox/corpustools/R/tcorpus.r')
tc
tCorpus
library(corpustools)
library(corpustools)
data(sotu_texts)
tc = create_tcorpus(sotu_texts[1:500,], 'text', doc_column = 'id')
tc = tc$preprocess('word', 'feature', lowercase = T, remove_punctuation = T, remove_stopwords = T, use_stemming = T, language = 'english')
tc = tc$feature_subset('feature', subset = freq(feature) > 10 & docfreq_pct(feature) < 50)
library(corpustools)
source('~/Dropbox/corpustools/R/term_information.r')
library(corpustools)
library(corpustools)
d = data.frame(text = c('Renewable fuel is better than fossil fuels!',
'A fueled debate about fuel',
'Mark Rutte is simply Rutte'),
date = c('2010-01-01','2010-01-01','2012-01-01'))
tc = create_tcorpus(d)
g = tc$compare_documents()
corpustools:::sourceall()
g = tc$compare_documents()
expect_equal(round(E(g)$weight,3), round(c(0.1581139, 0.1336306, 0.1581139, 0.1336306),3))
g = tc$compare_documents()
g
library(corpustools)
d = data.frame(text = c('Renewable fuel is better than fossil fuels!',
'A fueled debate about fuel',
'Mark Rutte is simply Rutte'),
date = c('2010-01-01','2010-01-01','2012-01-01'))
tc = create_tcorpus(d)
library(corpustools)
g = tc$compare_documents()
corpustools:::sourceall()
g = tc$compare_documents()
d = data.frame(text = c('Renewable fuel is better than fossil fuels!',
'A fueled debate about fuel',
'Mark Rutte is simply Rutte'),
date = c('2010-01-01','2010-01-01','2012-01-01'))
tc = create_tcorpus(d)
corpustools:::sourceall()
tc = create_tcorpus(d)
corpustools:::fast_factor(c('a','b'))
corpustools:::fast_factor(c(1,2))
corpustools:::fast_factor(c(1,2), c(1,2))
corpustools:::fast_factor(c(1,2), c(1))
corpustools:::fast_factor(c(1,2), numeric())
class(x)
class(c(1))
vector(c(), class(c(1)))
vector('numeric', 0)
fast_factor <- function(x, levels=NULL) {
if (is.null(levels)) levels = vector(class(x), 0)
if (!is(x, 'factor')) {
x = .Call('corpustools_fast_factor', PACKAGE = 'corpustools', x, levels)
} else {
if (length(levels) > 0) levels(x) = levels
}
x
}
fast_factor(c(1,2,3))
fast_factor(c('a','b','c'))
d = data.frame(text = c('Renewable fuel is better than fossil fuels!',
'A fueled debate about fuel',
'Mark Rutte is simply Rutte'),
date = c('2010-01-01','2010-01-01','2012-01-01'))
library(corpustools)
tc = create_tcorpus(d)
library(corpustools)
d = data.frame(text = c('Renewable fuel is better than fossil fuels!',
'A fueled debate about fuel',
'Mark Rutte is simply Rutte'),
date = c('2010-01-01','2010-01-01','2012-01-01'))
tc = create_tcorpus(d)
library(corpustools)
d = data.frame(text = c('Renewable fuel is better than fossil fuels!',
'A fueled debate about fuel',
'Mark Rutte is simply Rutte'),
date = c('2010-01-01','2010-01-01','2012-01-01'))
tc = create_tcorpus(d)
quanteda::tokenize
corpustools:::fast_factor(c(NA,NA))
fast_dummy_factor <- function(x) { ## if , still return a factor for consistency, but no need to match stuff
x = as.integer(x)
attr(x, 'levels') = as.character(1:length(unique(x)))
class(x) <- 'factor'
x
}
fast_dummy_factor(c(NA,NA))
factor(NA)
levels(factor(NA))
na.omit(c(NA,1,1))
length(na.omit(c(NA,1,1)))
fast_dummy_factor <- function(x) { ## if , still return a factor for consistency, but no need to match stuff
x = as.integer(x)
attr(x, 'levels') = as.character(1:length(na.omit(unique(x))))
class(x) <- 'factor'
x
}
fast_dummy_factor(c(NA,NA))
na.omit(c(NA,NA))
length(na.omit(c(NA,NA)))
nlevels = length(na.omit(unique(x)))
fast_dummy_factor <- function(x) { ## if , still return a factor for consistency, but no need to match stuff
x = as.integer(x)
nlevels = length(na.omit(unique(x)))
attr(x, 'levels') = if (nlevels > 0) as.character(1:nlevels) else character()
class(x) <- 'factor'
x
}
fast_dummy_factor(c(NA,NA))
