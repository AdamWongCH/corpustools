d[list(hits$doc_id[1:2], hits$sent_i[1:2]), ,with=F]
d[list(hits$doc_id[1:2], hits$sent_i[1:2]),]
d[list(hits$doc_id[2:3], hits$sent_i[2:3]),]
hits$doc_id[2:3]
list(hits$doc_id[2:3], hits$sent_i[2:3])
list(hits$doc_id[2:4], hits$sent_i[2:4])
d[list(hits$doc_id[2:4], hits$sent_i[2:4]),]
d[list(hits$doc_id[1:4], hits$sent_i[1:4]),]
d[list(hits$doc_id[1:2], hits$sent_i[1:2]),]
d[list(hits$doc_id[1:3], hits$sent_i[1:3]),]
list(hits$doc_id[1:3], hits$sent_i[1:3])
head(hits)
(d[d$doc_id == 332275 & d$sent_i == 1,])$i
d[list(332275,  1)]$i
d[list('332275',  1)]$i
d[list(as.factor(332275),  1)]$i
d[list(as.character(332275),  1)]$i
as.character(332275)
1
list(as.character(332275),  1)
d[list(doc_id=as.character(332275),  sent_i=1)]$i
d[list(doc_id=as.character(332275),  sent_i=1)]
(d[d$doc_id == 332275 & d$sent_i == 1,])$i
(d[d$doc_id == 332275 & d$sent_i == 1,])
key(d)
list(doc_id=as.character(332275),  sent_i=1)
d[list(doc_id=as.character(332275),  sent_i=1)]
d[J(doc_id=as.character(332275),  sent_i=1)]
?J
d[SJ(doc_id=as.character(332275),  sent_i=1)]
SJ(doc_id=as.character(332275),  sent_i=1)
SJ(doc_id=as.character(332275),  sent_i=1)
d[list(hits$doc_id[1:3], hits$sent_i[1:3]),]
d[list(hits$doc_id[1:2], hits$sent_i[1:2]),]
d[list(hits$doc_id[1:3], hits$sent_i[1:3]),]
hits$doc_id[1:3]
d[list(hits$doc_id[1:2], hits$sent_i[1:2]),]
d[list(hits$doc_id[1:3], hits$sent_i[1:3])]
d[list(hits$doc_id[1:2], hits$sent_i[1:2])]
d[list(hits$doc_id[1:3], hits$sent_i[1:3])]
d[list(hits$doc_id[1], hits$sent_i[1])]
d[list(hits$doc_id[1:2], hits$sent_i[1:2])]
d[list(hits$doc_id[1:3], hits$sent_i[1:3])]
(d[d$doc_id == 332275 & d$sent_i == 1,])
d[d$doc_id == 332275 & d$sent_i == 1,]
d[d$doc_id == 332275 & d$sent_i == 1,]
d[list(hits$doc_id[1], hits$sent_i[1])]
d[d$doc_id == 162583 & d$sent_i == 1,]
d[d$doc_id == '162583' & d$sent_i == 1,]
hits$doc_id[1]
d[list(hits$doc_id[1], hits$sent_i[1])]
d[list(hits$doc_id[1:2], hits$sent_i[1:2])]
d[list(hits$doc_id[1:3], hits$sent_i[1:3])]
d[list(as.factor(hits$doc_id[1]), hits$sent_i[1])]
d[list(hits$doc_id[1], hits$sent_i[1])]
d[d$doc_id == '162583' & d$sent_i == 1,]
d[list(hits$doc_id[1], hits$sent_i[1])]
d[list(hits$doc_id[1:2], hits$sent_i[1:2])]
d[list(hits$doc_id[1:3], hits$sent_i[1:3])]
class(d$doc_id)
class(d$sent_i)
d[d$doc_id == '162583' & d$sent_i == 1,]
d[list(hits$doc_id[1], hits$sent_i[1])]
d[list(hits$doc_id[1:2], hits$sent_i[1:2])]
d[list(hits$doc_id[1:3], hits$sent_i[1:3])]
d[list(hits$doc_id[1], c(1))]
d[list(rep(hits$doc_id[1],3, c(1))]
d[list(rep(hits$doc_id[1],3), c(1))]
d[list(rep(hits$doc_id[1],3), c(1,1,1))]
d[list(rep(hits$doc_id[1],3), c(1,2,3))]
rep(hits$doc_id[1],3)
d[list(hits$doc_id[c(1,3)], hits$sent_i[c(1,3)])]
d[list(hits$doc_id[1:3], hits$sent_i[1:3])]
d[list(hits$doc_id[c(1,3)], hits$sent_i[c(1,3)])]
d[list(hits$doc_id[c(1,3,4)], hits$sent_i[c(1,3,4)])]
d[list(hits$doc_id[c(1,2,4)], hits$sent_i[c(1,2,4)])]
hits
d[d$doc_id == '162583' & d$sent_i == 1,]
list(hits$doc_id[1], hits$sent_i[1])
d[list(hits$doc_id[1], hits$sent_i[1])]
d[list(as.character(hits$doc_id[1]), hits$sent_i[1])]
d[list(doc_id=as.character(hits$doc_id[1]), sent_i=hits$sent_i[1])]
d[J(doc_id=as.character(hits$doc_id[1]), sent_i=hits$sent_i[1])]
J(doc_id=as.character(hits$doc_id[1]), sent_i=hits$sent_i[1])
J(doc_id=as.character(hits$doc_id[1]), sent_i=hits$sent_i[1])
library(data.table)
J(doc_id=as.character(hits$doc_id[1]), sent_i=hits$sent_i[1])
data.table::J(doc_id=as.character(hits$doc_id[1]), sent_i=hits$sent_i[1])
data.table:::J(doc_id=as.character(hits$doc_id[1]), sent_i=hits$sent_i[1])
data.table:::J
d[J(doc_id=as.character(hits$doc_id[1]), sent_i=hits$sent_i[1])]
d
d[J(doc_id=as.character(hits$doc_id[1]), sent_i=hits$sent_i[1])]
d[J(hits$doc_id[1], hits$sent_i[1])]
list(hits$doc_id[1], hits$sent_i[1])
list(hits$doc_id[1], hits$sent_i[1])[[1]]
list(hits$doc_id[1], hits$sent_i[1])
list(hits$doc_id[1:2], hits$sent_i[1:2])
list(hits$doc_id[1:3], hits$sent_i[1:3])
hits$sent_i[1:3]
d[list(hits$doc_id[1], c(1,1,1))]
hits$doc_id[1]
d
d[.(8786, 1)]
d[J(8786, 1)]
d[J('8786', 1)]
d[.('8786', 1)]
d[J('8786', 1)]
d[J('8786', '1')]
d$sent_i = as.factor(d$sent_i)
setkey(d, 'doc_id','sent_i')
d
d[J('8786', '1')]
d$sent_i
d[J('8786', '1')]
d[J(8786, 1)]
J(8786, 1)
d[.(8786, 1)]
d[.('8786', 1)]
d[.('8786', '1')]
d = get_data(media)
d$i = 1:nrow(d)
key(d)
setkey(d, 'doc_id','sent_i')
d[.('8786', '1')]
d[.('8786', 1)]
setkey(d, 'doc_id','sent_i')
setkey(d, 'doc_id','sent_i')
setkey(d, 'doc_id','sent_i')
setkey(d, 'doc_id','sent_i')
setkey(d, 'doc_id','sent_i')
setkey(d, 'doc_id','sent_i')
nrow(d)
source('~/Dropbox/tcorpus/R/tcorpus.r')
d = get_data(media)
list(hits$doc_id[1], hits$sent_i[1])
d[list(hits$doc_id[1], c(1,1,1))]
d[list(hits$doc_id[1:2], hits$sent_i[1:2])]
d[list(hits$doc_id[1:3], hits$sent_i[1:3])]
d[list(hits$doc_id[1], c(1,1,1))]
d[list(hits$doc_id[1:2], hits$sent_i[1:2])]
d[list(hits$doc_id[1:3], hits$sent_i[1:3])]
d[list(hits$doc_id[1], c(1,1,1))]
d = get_data(media)
d = get_data(media)
d = get_data(media)
d = get_data(media)
d = get_data(media)
d = get_data(media)
d = get_data(media)
d = get_data(media)
d = get_data(media)
d = get_data(media)
media = readRDS('~/Dropbox/2016_rso/data/tcorpus_media.rds')
d = get_data(media)
d = get_data(media)
d$i = 1:nrow(d)
d = get_data(media)
media = readRDS('~/Dropbox/2016_rso/data/tcorpus_media.rds')
media = readRDS('~/Dropbox/2016_rso/data/tcorpus_mediaquotes.rds')
get_data(media)
media = subset(media, quote_role == 'quote') ## look only at quotes (ignoring the source)
x = get_data(media)
source('~/Dropbox/tcorpus/R/search_contexts.r')
media = readRDS('~/Dropbox/2016_rso/data/tcorpus_mediaquotes.rds')
media = subset(media, quote_role == 'quote') ## look only at quotes (ignoring the source)
media = subset(media, quote_role == 'quote') ## look only at quotes (ignoring the source)
media = readRDS('~/Dropbox/2016_rso/data/tcorpus_mediaquotes.rds')
source('~/Dropbox/tcorpus/R/search_contexts.r')
media = readRDS('~/Dropbox/2016_rso/data/tcorpus_mediaquotes.rds')
media = subset(media, quote_role == 'quote') ## look only at quotes (ignoring the source)
source('~/Dropbox/tcorpus/R/search_contexts.r')
search_contexts
source('~/Dropbox/tcorpus/R/search_contexts.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
media = readRDS('~/Dropbox/2016_rso/data/tcorpus_mediaquotes.rds')
media = subset(media, quote_role == 'quote') ## look only at quotes (ignoring the source)
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/tcorpus.r')
source('~/Dropbox/tcorpus/R/tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
id = tc@data$doc_id
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
media = readRDS('data/tcorpus_mediaquotes.rds')
pr = readRDS('data/tcorpus_pr.rds')
manif = readRDS('data/tcorpus_manifestos.rds')
media = subset(media, quote_role == 'quote') ## look only at quotes (ignoring the source)
test = subset(pr, pos=='M')
test
pr = readRDS('data/tcorpus_pr.rds')
pr
summary(pr)
test = subset(pr, pos=='SPEC')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
reset_feature_index
set_feature_index
create_feature_index()
create_feature_index
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
setwd('~/Dropbox/2016_rso/')
library(tcorpus)
source('data/lib.r')
media = readRDS('data/tcorpus_mediaquotes.rds')
library(tcorpus)
media = subset(media, quote_role == 'quote') ## look only at quotes (ignoring the source)
source('~/Dropbox/tcorpus/R/term_information.r')
test <- function(...){
print(list(...))
}
test(x = 10, y=80)
test <- function(...){
for(tc in (list(...))){
print(tc)
}
}
test(x = 10, y=80)
test <- function(...){
tc_list = list(...)
for(i in 1:length(tc_list)) if(!is(tc_list[[i]], 'tCorpus')) stop(sprintf('%s is not a tCorpus object', names(tc_list)[i]))
}
test(x = 10, y=80)
test <- function(...){
tc_list = list(...)
for(i in 1:length(tc_list)) if(!is(tc_list[[i]], 'tCorpus')) stop(sprintf('"%s" is not a tCorpus object', names(tc_list)[i]))
}
test(x = 10, y=80)
test(x = media, y=manif)
library(amcatr)
conn = amcat.connect('https://amcat.nl')
d = amcat.getarticlemeta(conn, 15, 32606, columns=c('date','medium','text'))
format(object.size(d), 'Mb')
head(d)
library(tcorpus)
?create_tcorpus
colnames(meta)
colnames(d)
tc = create_tcorpus(d, text_columns='text', doc_column='id')
tc
format(object.size(tc), 'Mb')
tc
tc
?preprocess_words
?preprocess_words()
tc = preprocess_feature(tc, column='word', new_column='feature', language='dutch', use_stemming = T)
format(object.size(tc), 'Mb')
format(object.size(tc), 'Mb')
tc
format(object.size(tc), 'Mb')
tc
search_contexts(tc, '"immig* arbeid*"~10')
source('~/Dropbox/tcorpus/R/adjacency_functions.r')
1:10
1:1000000
object.size(as.character(1:1000000))
format(object.size(as.character(1:1000000)), 'Mb')
format(paste('test', object.size(as.character(1:1000000))), 'Mb')
format(object.size(paste('test', as.character(1:1000000))), 'Mb')
x = as.factor(c('a','b','c'))
x
levels(x)
subset_query(tc, '"immig* arbeid*"~10')
subset_query(tc, 'immig* arbeid*')
setkey(tc@data, 'doc_id', 'sent_i')
setkey(tc@data, 'doc_id')
setkey(tc@data, 'doc_id')
setkey(tc@data, 'doc_id')
setkey(tc@data, 'doc_id')
setkey(tc@data, 'doc_id')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/search_contexts.r')
source('~/Dropbox/tcorpus/R/query.r')
source('~/Dropbox/tcorpus/R/search.r')
subset_query(tc, 'immig* arbeid*')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'immig* arbeid*')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/search_contexts.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'immig* arbeid*')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'immig* arbeid*')
set_feature_index(tc)
set_feature_index(tc, feature = 'word')
tc = set_feature_index(tc, 'word')
subset_query(tc, 'immig* arbeid*')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'immig* arbeid*')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'immig* arbeid*')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'immig* arbeid*')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'immig* arbeid*')
subset_query(tc, 'test')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'test')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'test')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'test')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'test')
source('~/Dropbox/tcorpus/R/tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
tc@doc_meta$doc_id = as.factor(tc@doc_meta$doc_id)
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'test')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'test')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'test')
delete_feature_index
subset_query(tc, 'test')
source('~/Dropbox/tcorpus/R/feature_index.r')
source('~/Dropbox/tcorpus/R/feature_index.r')
subset_query(tc, 'test')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
subset_query(tc, 'test')
source('~/Dropbox/tcorpus/R/subset_tcorpus.r')
media = readRDS('data/tcorpus_mediaquotes.rds')
media = subset(media, quote_role == 'quote') ## look only at quotes (ignoring the source)
media = readRDS('~/Dropbox/2016_rso/data/tcorpus_mediaquotes.rds')
media = subset(media, quote_role == 'quote') ## look only at quotes (ignoring the source)
pr = readRDS('~/Dropbox/2016_rso/data/tcorpus_pr.rds')
manif = readRDS('~/Dropbox/2016_rso/data/tcorpus_manifestos.rds')
tc_list = list(media=media, pr=pr, manif=manif)
c(NULL, 1)
tc = tc_list[[1]]
tc
featurenames(tc)
colnames(get_data(tc))
coltypes = rep(NA, length(data_columns))
meta_coltypes = rep(NA, length(meta_columns))
for(tc in tc_list){
if(is.null(data_columns)){
if(keep_data == 'all') data_columns = union(data_columns, colnames(get_data(tc)))
if(keep_data == 'intersect') data_columns = intersect(data_columns, colnames(get_data(tc)))
}
if(is.null(meta_columns)){
if(keep_meta == 'all') meta_columns = union(meta_columns, colnames(get_meta(tc)))
if(keep_meta == 'intersect') meta_columns = intersect(meta_columns, colnames(get_meta(tc)))
}
}
data_columns = NULL
meta_columns = NULL
keep_data = 'intersect'
keep_meta = 'intersect'
for(tc in tc_list){
if(is.null(data_columns)){
if(keep_data == 'all') data_columns = union(data_columns, colnames(get_data(tc)))
if(keep_data == 'intersect') data_columns = intersect(data_columns, colnames(get_data(tc)))
}
if(is.null(meta_columns)){
if(keep_meta == 'all') meta_columns = union(meta_columns, colnames(get_meta(tc)))
if(keep_meta == 'intersect') meta_columns = intersect(meta_columns, colnames(get_meta(tc)))
}
}
data_columns
colnames(get_data(tc)
colnames(get_data(tc))
colnames(get_data(tc))
for(tc in tc_list){
if(is.null(data_columns)){
if(keep_data == 'all') data_columns = union(data_columns, colnames(get_data(tc)))
if(keep_data == 'intersect') data_columns = if(is.null(data_columns)) colnames(get_data(tc)) else intersect(data_columns, colnames(get_data(tc)))
}
if(is.null(meta_columns)){
if(keep_meta == 'all') meta_columns = union(meta_columns, colnames(get_meta(tc)))
if(keep_meta == 'intersect') meta_columns = if(is.null(meta_columns)) colnames(get_meta(tc)) else intersect(meta_columns, colnames(get_meta(tc)))
}
}
data_columns
data_columns
meta_columns = NULL
data_columns = NULL
for(tc in tc_list){
if(is.null(data_columns)){
if(keep_data == 'all') data_columns = union(data_columns, colnames(get_data(tc)))
if(keep_data == 'intersect') data_columns = if(is.null(data_columns)) colnames(get_data(tc)) else intersect(data_columns, colnames(get_data(tc)))
}
if(is.null(meta_columns)){
if(keep_meta == 'all') meta_columns = union(meta_columns, colnames(get_meta(tc)))
if(keep_meta == 'intersect') meta_columns = if(is.null(meta_columns)) colnames(get_meta(tc)) else intersect(meta_columns, colnames(get_meta(tc)))
}
}
data_columns
meta_columns
get_column(tc, 'test')
rep(NULL, 10)
has_col = coltypes %in% colnames(tc$data)
coltypes = rep(NA, length(data_columns))
meta_coltypes = rep(NA, length(meta_columns))
has_col = coltypes %in% colnames(tc$data)
coltypes
has_col = data_columns %in% colnames(get_data(tc))
has_col
rbind.fill(list(data.frame(x=c(1,2,3), y = c('a','b','c')), data.frame(x=c(1,2,3), y = c('a','b','c'))))
library(plyr)
rbind.fill(list(data.frame(x=c(1,2,3), y = c('a','b','c')), data.frame(x=c(1,2,3), y = c('a','b','c'))))
rbind.fill(list(data.frame(x=as.character(c(1,2,3)), y = c('a','b','c')), data.frame(x=c(1,2,3), y = c('a','b','c'))))
rbind.fill(list(data.frame(x=as.character(c(1,2,3)), y = as.factor(c('a','b','c'))), data.frame(x=c(1,2,3), y = c('a','b','c'))))
test = rbind.fill(list(data.frame(x=as.character(c(1,2,3)), y = as.factor(c('a','b','c'))), data.frame(x=c(1,2,3), y = c('a','b','c'))))
class(test$y)
test = rbind.fill(list(data.frame(x=as.character(c(1,2,3)), y = as.factor(c('a','b','c'))), data.frame(x=c(1,2,3), y = c('d','b','c'))))
class(test$y)
test$y
test = rbind.fill(list(data.frame(z=as.character(c(1,2,3)), y = as.factor(c('a','b','c'))), data.frame(x=c(1,2,3), y = c('d','b','c'))))
test
lapply(tc_list, get_data)
rbind.fill(lapply(tc_list, get_data))
data = rbind.fill(lapply(tc_list, get_data, columns=c('doc_id')))
head(data)
lapply(tc, function(x) colnames(get_data(x)))
lapply(tc_list, function(x) colnames(get_data(x)))
cnames
cnames = lapply(tc_list, function(x) colnames(get_data(x)))
intersect(cnames)
Reduce(intersect, cnames)
cnames = lapply(tc_list, function(x) colnames(get_data(x)))
cnames = Reduce(intersect, cnames)
cnames = lapply(tc_list, function(x) colnames(get_data(x)))
cnames = Reduce(intersect, cnames)
cnames
cnames = lapply(tc_list, function(x) colnames(get_meta(x)))
cnames = Reduce(intersect, cnames)
cnames
?tokens_to_tcorpus
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
merge_tcorpora(tc_list)
tc_list
merge_tcorpora(tc_list)
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
merge_tcorpora(media=media, manif=manif)
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
print(length(tc_list))
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
c(1,1,NA,5)
test = c(1,1,NA,5)
is.na(test)
cnames = lapply(tc_list, function(x) colnames(get_meta(x)))
cnames
cnames = lapply(tc_list, function(x) colnames(get_data(x)))
cnames = Reduce(intersect, cnames)
data = rbind.fill(lapply(tc_list, get_data, columns=cnames))
cnames
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
tc = merge_tcorpora(tc_list)
tc2 = merge_tcorpora(media=media, manif=manif)
identical(tc, tc2)
names(tc_list)
rbind.fill(list(a=1, b=2, c=3))
rbind.fill(list(a=data.frame(x=1), b=data.frame(x=1), c=data.frame(x=1)))
?rbind.fill
ldply(list(a=data.frame(x=1), b=data.frame(x=1), c=data.frame(x=1)))
ldply(list(a=data.frame(x=1), b=data.frame(x=1), c=data.frame(x=1)), .id = 'test')
ldply(list(a=data.frame(x=1), b=data.frame(x=1), c=data.frame(x=1)), .id = 'corpus')
ldply(list(a=data.frame(x=1), b=data.frame(x=1), c=data.frame(x=1)), .id = 'x')
ldply(list(a=data.frame(x=1), b=data.frame(x=1), c=data.frame(x=1)), .id = 'corpus')
ldply(list(a=data.frame(x=1), b=data.frame(y=1), c=data.frame(x=1)), .id = 'corpus')
?ldply
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
identical(tc, tc2)
tc
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
tc
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
source('~/Dropbox/tcorpus/R/merge_tcorpus.r')
library(amcatr)
conn = amcat.connect('https://amcat.nl')
d = amcat.getarticlemeta(conn, 15, 32606, columns=c('date','medium','text'))
library(tcorpus)
tc = create_tcorpus(d, text_columns='text', doc_column='id')
saveRDS(tc, '~/Desktop/test.rds')
tc = readRDS('~/Desktop/test.rds')
